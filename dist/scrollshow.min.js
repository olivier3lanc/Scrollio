!function(e){e.fn.scrollshow=function(t){var a={id:"scrollshow",scrollRange:2e3,keepActive:!0,firstLetterActive:!1,textEllipsis:"...",onItemChange:function(e){}};if("object"==typeof t){Object.getOwnPropertyNames(t).forEach(function(e){a.hasOwnProperty(e)&&(a[e]=t[e])})}var n=e("body"),i=e(window).height(),r=e("#"+a.id);r.append('<div class="overlay"></div>');var s=0,o=0,l=r.children(".item").length,c=a.scrollRange;n.height(l*c+i),r.append('<nav class="navigation"></nav>');for(var d=r.children(".navigation"),h=0;h<l;h++)d.append('<a href="#'+h.toString()+'"></a>'),0==h&&d.append('<span class="progress"></span>');var v=d.children("a:first-child"),p=(v.outerWidth(),v.outerHeight()),f=parseFloat(v.css("margin-bottom")),g=l*(p+f);d.find("a").on("click",function(t){t.preventDefault();var a=e(this).attr("href").replace("#",""),n=(a=parseInt(a))*c;e(document).scrollTop(n)}),r.children(".item").each(function(){for(var t=e(this).children().eq(0),n=t.text()+" "+a.textEllipsis,i="",r=1e3,s=0;s<n.length;s++)i+=" "==n[s]?'</span><span class="separator">'+n[s]+'</span><span class="word">':'<span class="letter" style="z-index:'+r+';">'+n[s]+"</span>",r--;t.html('<span class="word">'+i+"</span>"),a.firstLetterActive&&e(this).addClass("first-letter-active")});var m=function(){(o=e(document).scrollTop())>=l*c&&(o=l*c-1),s=parseInt(o/c);var t=o-c*s,n=r.children(".item:eq("+s+")"),i=r.children(".item:not(:eq("+s+"))"),h=r.find(".item:eq("+s+") .letter").length,v=parseInt(c/h),m=parseInt(t/v);if(!n.hasClass("active")){e.Event("itemChange");r.trigger({type:"itemChange",targetIndex:s})}if(n.addClass("active"),a.keepActive)for(var u=0;u<h;u++)u<=m?n.find(".letter:eq("+u.toString()+")").addClass("active"):n.find(".letter:eq("+u.toString()+")").removeClass("active");else n.find(".letter:eq("+m+")").addClass("active"),n.find(".letter:not(:eq("+m+"))").removeClass("active");i.removeClass("active");for(var C=0;C<l;C++)C<=s?d.find('a[href="#'+C.toString()+'"]').addClass("active"):d.find('a[href="#'+C.toString()+'"]').removeClass("active");var w=o/(l*c)*g;s+1==l&&(w=g-f-p),d.children(".progress").height(w)};m(),e(document).on("scroll",function(e){m()}),e(window).on("resize",function(t){i=e(window).height(),n.height(l*c+i)}),r.on("itemChange",function(e){var t=e.targetIndex;a.onItemChange(t)})}}(jQuery);