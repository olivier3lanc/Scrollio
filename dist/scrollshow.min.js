!function(e){e.fn.scrollshow=function(t){var n={id:"scrollshow",scrollRange:1e3,keepActive:!0,textEllipsis:"...",intro:!0,navigation:!0,overlay:!1,onItemChange:function(e){},onFirstItem:function(e){},onLastItem:function(e){}};if("object"==typeof t){Object.getOwnPropertyNames(t).forEach(function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})}var a=e("body"),i=e(window).height(),r=e("#"+n.id);n.overlay&&r.append('<div class="overlay"></div>');var s=0,o=0,l=r.children(".item").length,c=n.scrollRange;if(a.height(l*c+i),n.navigation){r.append('<nav class="navigation"></nav>');for(var d=r.children(".navigation"),v=0;v<l;v++)d.append('<a href="#'+v.toString()+'"></a>'),0==v&&d.append('<span class="progress"></span>');var h=d.children("a:first-child"),p=(h.outerWidth(),h.outerHeight()),f=parseFloat(h.css("margin-bottom")),g=l*(p+f);d.find("a").on("click",function(t){t.preventDefault();var n=e(this).attr("href").replace("#",""),a=(n=parseInt(n))*c;e(document).scrollTop(a)})}r.children(".item").each(function(){for(var t=e(this).children().eq(0),a=t.text()+" "+n.textEllipsis,i="",r=1e3,s=0;s<a.length;s++)i+=" "==a[s]?'</span><span class="separator">'+a[s]+'</span><span class="word">':'<span class="letter" style="z-index:'+r+';">'+a[s]+"</span>",r--;t.html('<span class="word">'+i+"</span>")});var m=function(){(o=e(window).scrollTop())>=l*c&&(o=l*c-1),s=parseInt(o/c);var t=o-c*s,a=r.children(".item:eq("+s+")"),i=r.children(".item:not(:eq("+s+"))"),v=r.find(".item:eq("+s+") .letter").length,h=parseInt(c/v),m=parseInt(t/h);if(!a.hasClass("active")){e.Event("itemChange"),e.Event("lastItem"),e.Event("firstItem");r.trigger({type:"itemChange",targetIndex:s}),0==s&&r.trigger({type:"firstItem"}),s==l-1&&r.trigger({type:"lastItem"})}if(a.addClass("active"),a.find(".letter:eq("+m+")").addClass("active current"),n.keepActive){for(u=0;u<m;u++)a.find(".letter:eq("+u+")").addClass("active").removeClass("current");for(var u=m+1;u<v;u++)a.find(".letter:eq("+u+")").removeClass("active current")}else a.find(".letter:not(:eq("+m+"))").removeClass("active current");if(i.removeClass("active"),n.navigation){for(var I=0;I<l;I++)I<=s?d.find('a[href="#'+I.toString()+'"]').addClass("active"):d.find('a[href="#'+I.toString()+'"]').removeClass("active");var C=o/(l*c)*g;s+1==l&&(C=g-f-p),d.children(".progress").height(C)}};n.intro?r.append('<div class="intro active"><header><h1>'+document.title+'</h1><p class="description">'+e('head meta[name="description"]').attr("content")+"</p><p>Scroll down</p></header></div>"):m(),e(document).on("scroll",function(e){m(),n.intro&&o>0&&r.children(".intro").removeClass("active")}),e(window).on("resize",function(t){i=e(window).height(),a.height(l*c+i)}),r.on("itemChange",function(e){var t=e.targetIndex;n.onItemChange(t)}),r.on("firstItem",function(e){n.onFirstItem(e)}),r.on("lastItem",function(e){n.onLastItem(e)})}}(jQuery);