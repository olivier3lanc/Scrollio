!function(e){e.fn.scrollshow=function(t){var n={id:"scrollshow",scrollRange:2e3,keepActive:!0,textEllipsis:"...",onItemChange:function(e){},onFirstItem:function(e){},onLastItem:function(e){}};if("object"==typeof t){Object.getOwnPropertyNames(t).forEach(function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})}var a=e("body"),i=e(window).height(),r=e("#"+n.id);r.append('<div class="overlay"></div>');var s=0,o=0,l=r.children(".item").length,c=n.scrollRange;a.height(l*c+i),r.append('<nav class="navigation"></nav>');for(var d=r.children(".navigation"),h=0;h<l;h++)d.append('<a href="#'+h.toString()+'"></a>'),0==h&&d.append('<span class="progress"></span>');var f=d.children("a:first-child"),p=(f.outerWidth(),f.outerHeight()),g=parseFloat(f.css("margin-bottom")),v=l*(p+g);d.find("a").on("click",function(t){t.preventDefault();var n=e(this).attr("href").replace("#",""),a=(n=parseInt(n))*c;e(document).scrollTop(a)}),r.children(".item").each(function(){for(var t=e(this).children().eq(0),a=t.text()+" "+n.textEllipsis,i="",r=1e3,s=0;s<a.length;s++)i+=" "==a[s]?'</span><span class="separator">'+a[s]+'</span><span class="word">':'<span class="letter" style="z-index:'+r+';">'+a[s]+"</span>",r--;t.html('<span class="word">'+i+"</span>")});e(document).on("scroll",function(t){!function(){(o=e(document).scrollTop())>=l*c&&(o=l*c-1),s=parseInt(o/c);var t=o-c*s,a=r.children(".item:eq("+s+")"),i=r.children(".item:not(:eq("+s+"))"),h=r.find(".item:eq("+s+") .letter").length,f=parseInt(c/h),m=parseInt(t/f);a.hasClass("active")||(e.Event("itemChange"),e.Event("lastItem"),e.Event("firstItem"),r.trigger({type:"itemChange",targetIndex:s}),0==s&&r.trigger({type:"firstItem"}),s==l-1&&r.trigger({type:"lastItem"}));if(a.addClass("active"),n.keepActive)for(var u=0;u<h;u++)u<=m?a.find(".letter:eq("+u.toString()+")").addClass("active"):a.find(".letter:eq("+u.toString()+")").removeClass("active");else a.find(".letter:eq("+m+")").addClass("active"),a.find(".letter:not(:eq("+m+"))").removeClass("active");i.removeClass("active");for(var I=0;I<l;I++)I<=s?d.find('a[href="#'+I.toString()+'"]').addClass("active"):d.find('a[href="#'+I.toString()+'"]').removeClass("active");var C=o/(l*c)*v;s+1==l&&(C=v-g-p),d.children(".progress").height(C)}(),console.log("scrolled")}),e(window).on("resize",function(t){i=e(window).height(),a.height(l*c+i)}),r.on("itemChange",function(e){var t=e.targetIndex;n.onItemChange(t)}),r.on("firstItem",function(){n.onFirstItem(console.log("first"))}),r.on("lastItem",function(){n.onLastItem(console.log("last"))})}}(jQuery);