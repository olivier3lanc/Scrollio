!function(o){if(void 0!==window.scrollioAPI){var t={id:"dynamicBackground",name:"Dynamic Background",description:"Add animated background images synchronized to scroll amount of Scrollio items",fadeDuration:1300,opacity:.7,translateUnit:"px",perspective:1500,translateXFrom:-10,translateXTo:10,translateYFrom:-15,translateYTo:15,scaleFrom:1,scaleTo:1,rotateXFrom:0,rotateXTo:0,rotateYFrom:0,rotateYTo:0};window.scrollioAPI[t.id]=t;var e=window.scrollioAPI[t.id];e.jQ_items=o("#scrollio>.item"),o(document).one(t.id,function(t){o(this).one("initForScrollio",function(){o("head").append("<style>#scrollio>.item>.dynamic-background {position: fixed;top: -5%;left: -5%;width: 110%;height: 110%;opacity: 0;transition: transform 200ms, opacity "+e.fadeDuration.toString()+"ms;background-position: center;background-repeat: no-repeat;background-size: cover;prespective: "+e.perspective.toString()+";}#scrollio>.item>.dynamic-background.active { opacity: "+e.opacity.toString()+";}</style>"),o("#scrollio>.item[data-dynamic-background]").each(function(){var t=o(this),e=t.attr("data-dynamic-background");o.get(e,function(){t.prepend('<div class="dynamic-background" style="background-image:url('+e+')"></div>')}).fail(function(){console.log(e+" is not a valid image URL")})}),o(this).on("itemChangeForScrollio",function(o){e.jQ_items.children(".dynamic-background").removeClass("active"),setTimeout(function(){e.jQ_items.eq(o.index).children(".dynamic-background").addClass("active")},300)}),1==e.scaleFrom&&1==e.scaleTo&&0==e.translateXFrom&&0==e.translateYFrom&&0==e.translateXTo&&0==e.translateYTo&&0==e.rotateXFrom&&0==e.rotateYFrom&&0==e.rotateXTo&&0==e.rotateYTo||o(this).on("scrollForScrollio",function(o){var t=e.scaleFrom+(e.scaleTo-e.scaleFrom)*o.itemProgressCoef,r=e.translateXFrom+(e.translateXTo-e.translateXFrom)*o.itemProgressCoef,a=e.translateYFrom+(e.translateYTo-e.translateYFrom)*o.itemProgressCoef,i=e.rotateXFrom+(e.rotateXTo-e.rotateXFrom)*o.itemProgressCoef,n=e.rotateYFrom+(e.rotateYTo-e.rotateYFrom)*o.itemProgressCoef,s=t.toString(),c=r.toString()+e.translateUnit,l=a.toString()+e.translateUnit,d=i.toString(),m=n.toString();e.jQ_items.eq(o.index).children(".dynamic-background").css({transform:"scale("+s+") translateX("+c+") translateY("+l+") rotateX("+d+"deg) rotateY("+m+"deg)"})})})}),o.Event("iAmaScrollioPlugin"),o(document).trigger({type:"iAmaScrollioPlugin",id:t.id,name:t.name})}else console.log("Scrollio is not detected, please install Scrollio")}(jQuery);