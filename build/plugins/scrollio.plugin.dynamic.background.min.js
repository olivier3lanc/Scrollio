!function(t){if(void 0!==window.scrollioAPI){var o={id:"dynamicBackground",name:"Dynamic Background",description:"Add animated background images synchronized to scroll amount of Scrollio items",fadeDuration:1300,opacity:.7,translateUnit:"px",perspective:1500,translateXFrom:-10,translateXTo:10,translateYFrom:-15,translateYTo:15,scaleFrom:1,scaleTo:1,rotateXFrom:0,rotateXTo:0,rotateYFrom:0,rotateYTo:0};window.scrollioAPI[o.id]=o;var r=window.scrollioAPI[o.id];r.jQ_items=t("#scrollio>.item"),t(document).one(o.id,function(o){t(this).one("initForScrollio",function(){t("head").append('<style id="scrollio-dynamic-background-plugin">body #scrollio>.item>.dynamic-background {position: fixed;top: -5%;left: -5%;width: 110%;height: 110%;opacity: 0;transition: transform 200ms, opacity '+r.fadeDuration.toString()+"ms;transform: scale("+r.scaleFrom.toString()+") rotateX("+r.rotateXFrom.toString()+"deg) rotateY("+r.rotateYFrom.toString()+"deg) translateX("+r.translateXFrom.toString()+r.translateUnit+") translateY("+r.translateYFrom.toString()+r.translateUnit+");background-position: center;background-repeat: no-repeat;background-size: cover;prespective: "+r.perspective.toString()+";}body #scrollio>.item>.dynamic-background.active {opacity: "+r.opacity.toString()+";}</style>");t("#scrollio>.item[data-dynamic-background]").length>0&&(t("#scrollio>.item[data-dynamic-background]").each(function(){var o=t(this),r=o.attr("data-dynamic-background");t.get(r,function(){o.prepend('<div class="dynamic-background active" style="background-image:url('+r+')"></div>')}).fail(function(){console.log(r+" is not a valid image URL")})}),t(this).on("itemChangeForScrollio",function(t){r.jQ_items.children(".dynamic-background").removeClass("active"),setTimeout(function(){r.jQ_items.eq(t.index).children(".dynamic-background").addClass("active")},300)}),1==r.scaleFrom&&1==r.scaleTo&&0==r.translateXFrom&&0==r.translateYFrom&&0==r.translateXTo&&0==r.translateYTo&&0==r.rotateXFrom&&0==r.rotateYFrom&&0==r.rotateXTo&&0==r.rotateYTo||t(this).on("scrollForScrollio",function(t){var o=r.scaleFrom+(r.scaleTo-r.scaleFrom)*t.itemProgressCoef,a=r.translateXFrom+(r.translateXTo-r.translateXFrom)*t.itemProgressCoef,e=r.translateYFrom+(r.translateYTo-r.translateYFrom)*t.itemProgressCoef,i=r.rotateXFrom+(r.rotateXTo-r.rotateXFrom)*t.itemProgressCoef,n=r.rotateYFrom+(r.rotateYTo-r.rotateYFrom)*t.itemProgressCoef,s=o.toString(),l=a.toString()+r.translateUnit,c=e.toString()+r.translateUnit,d=i.toString(),m=n.toString();r.jQ_items.eq(t.index).children(".dynamic-background").css({transform:"scale("+s+") translateX("+l+") translateY("+c+") rotateX("+d+"deg) rotateY("+m+"deg)"})}))})}),t.Event("iAmaScrollioPlugin"),t(document).trigger({type:"iAmaScrollioPlugin",id:o.id,name:o.name})}else console.log("Scrollio is not detected, please install Scrollio")}(jQuery);