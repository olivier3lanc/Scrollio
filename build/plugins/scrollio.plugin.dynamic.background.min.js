!function(o){if(void 0!==window.scrollioAPI){var t={id:"dynamicBackground",name:"Dynamic Background",description:"Add animated background images synchronized to scroll amount of Scrollio items",fadeDuration:1300,opacity:.7,translateUnit:"px",translateXFrom:-10,translateXTo:10,translateYFrom:-15,translateYTo:15,scaleFrom:1,scaleTo:1,rotateXFrom:0,rotateXTo:0,rotateYFrom:0,rotateYTo:0};window.scrollioAPI[t.id]=t;var a=window.scrollioAPI[t.id];a.jQ_items=o("#scrollio>.item"),o(document).one(t.id,function(t){o(this).one("initForScrollio",function(){o("head").append("<style>#scrollio>.item>.dynamic-background {position: fixed;top: -5%;left: -5%;width: 110%;height: 110%;opacity: 0;transition: transform 200ms, opacity "+a.fadeDuration+"ms;background-position: center;background-repeat: no-repeat;background-size: cover;}#scrollio>.item>.dynamic-background.active { opacity: "+a.opacity+";}</style>"),o("#scrollio>.item[data-dynamic-background]").each(function(){var t=o(this),a=t.attr("data-dynamic-background");o.get(a,function(){t.prepend('<div class="dynamic-background" style="background-image:url('+a+')"></div>')}).fail(function(){console.log(a+" is not a valid image URL")})}),o(this).on("itemChangeForScrollio",function(o){a.jQ_items.children(".dynamic-background").removeClass("active"),setTimeout(function(){a.jQ_items.eq(o.index).children(".dynamic-background").addClass("active")},300)}),1==a.scaleFrom&&1==a.scaleTo&&0==a.translateXFrom&&0==a.translateYFrom&&0==a.translateXTo&&0==a.translateYTo&&0==a.rotateXFrom&&0==a.rotateYFrom&&0==a.rotateXTo&&0==a.rotateYTo||o(this).on("scrollForScrollio",function(o){var t=a.scaleFrom+(a.scaleTo-a.scaleFrom)*o.itemProgressCoef,e=a.translateXFrom+(a.translateXTo-a.translateXFrom)*o.itemProgressCoef,r=a.translateYFrom+(a.translateYTo-a.translateYFrom)*o.itemProgressCoef,i=a.rotateXFrom+(a.rotateXTo-a.rotateXFrom)*o.itemProgressCoef,n=a.rotateYFrom+(a.rotateYTo-a.rotateYFrom)*o.itemProgressCoef,s=t.toString(),l=e.toString()+a.translateUnit,c=r.toString()+a.translateUnit,d=i.toString(),m=n.toString();a.jQ_items.eq(o.index).children(".dynamic-background").css({transform:"scale("+s+") translateX("+l+") translateY("+c+") rotateX("+d+"deg) rotateY("+m+"deg)"})})})}),o.Event("iAmaScrollioPlugin"),o(document).trigger({type:"iAmaScrollioPlugin",id:t.id,name:t.name})}else console.log("Scrollio is not detected, please install Scrollio")}(jQuery);