!function(e){e(document).on("iAmaScrollioPlugin",function(o){console.log("Scrollio plugin detected:"+o.name),e.Event(o.id),e(document).trigger({type:o.id,name:o.name})}),e(window).on("load",function(){e(document).off("scrollioPlugin")}),window.scrollioAPI={defaults:{},goToNextItem:function(){this.index<this.amountOfItems-1?e("body,html").animate({scrollTop:(window.scrollioAPI.index+1)*window.scrollioAPI.defaults.scrollRange},this.defaults.scrollRange):console.log("unable to go to next item, this is the last item")},goToPreviousItem:function(){this.index>0?e("body,html").animate({scrollTop:(window.scrollioAPI.index-1)*window.scrollioAPI.defaults.scrollRange},this.defaults.scrollRange):console.log("unable to go to previous item, this is the first item")},goToFirstItem:function(){e("body,html").animate({scrollTop:0},this.scrollTop)},goToLastItem:function(){var o=(this.amountOfItems-1)*this.defaults.scrollRange;e("body,html").animate({scrollTop:o},o)},goToItemStart:function(){var o=this.index*this.defaults.scrollRange;e("body,html").animate({scrollTop:o},this.relativeScroll)},goToItemEnd:function(){var o=this.index*this.defaults.scrollRange+this.defaults.scrollRange-20;e("body,html").animate({scrollTop:o},this.defaults.scrollRange)}},e.fn.scrollio=function(o){var t={id:"scrollio",scrollRange:2e3,keepActive:!0,textEllipsis:"...",fontFamily:"Ubuntu",fontWeight:"Bold",fontOverlapUnder:!0,progressBar:!0,overlay:!0,fontSizeXL:84,fontSizeLG:56,fontSizeMD:36,fontSizeSM:24,fontSizeXS:18,breakPointLG_XL:1200,breakPointMD_LG:992,breakPointSM_MD:768,breakPointXS_SM:575,styleOverrides:!0,animationsCSS:{cursor:{"0%":"opacity: 0","100%":"opacity: 1"}},sentenceBeforeInitCSS:{},sentenceAfterInitCSS:{},bodyCSS:{"background-color":"#1b4b7d",color:"#fff"},scrollioContainerCSS:{},itemDefaultCSS:{padding:"0em 10vw"},itemActiveCSS:{},sentenceCSS:{"line-height":"1.3em"},wordCSS:{},letterDefaultCSS:{"margin-left":"-0.1em",opacity:"0.5",transition:"all 200ms","text-shadow":"0px 0px 0px rgba(0,0,0,.5)",transform:"scale(0.5)"},letterActiveCSS:{color:"white",opacity:"1","text-shadow":"5px 1px 8px rgba(0,0,0,.5)",transform:"scale(1)"},letterCurrentCSS:{},cursorCSS:{top:"0px",right:"0px",width:"2px",height:"100%","background-color":"white","animation-name":"cursor","animation-duration":"600ms","animation-iteration-count":"infinite","animation-direction":"alternate"},ellipsisWordCSS:{},ellipsisDefaultCSS:{},ellipsisActiveCSS:{},ellipsisCurrentCSS:{},progressBarCSS:{"background-color":"white"},overlayCSS:{opacity:"1",background:"radial-gradient(ellipse at top, transparent, #07131f)"},onInit:function(e){},onItemChange:function(e){},onLetterChange:function(e){},onScroll:function(e){},onItemEnd:function(e){},onFirstItem:function(e){},onLastItem:function(e){},onScrollEnd:function(e){}},i=e("#"+t.id),r=e("body"),n=window.innerWidth,l=window.innerHeight;if(r.hasClass("scrollio-initialized"))console.log("Scrollio already initialized");else{if("object"==typeof o){Object.getOwnPropertyNames(o).forEach(function(e){t.hasOwnProperty(e)&&(t[e]=o[e])})}window.scrollioAPI.defaults=t,t.overlay&&i.append('<div class="overlay"></div>');var s=0;window.scrollioAPI.index=s;var a=0;window.scrollioAPI.scrollTop=a;var c=0;window.scrollioAPI.relativeScroll=c;var d=i.children(".item").length;window.scrollioAPI.amountOfItems=d;var f=t.scrollRange,S=a/(d*f);window.scrollioAPI.progressBarCoef=S;var m=S*n,g=0;window.scrollioAPI.itemProgressCoef=g;var p=0,u=0;r.height(d*f+l);var h=-1,C=!0,v={webSafeFonts:{Arial:"Arial, Helvetica, sans-serif",Helvetica:"Helvetica, Arial, sans-serif","Courier New":'"Courier New", monospace',Georgia:"Georgia, serif","Times New Roman":'"Times New Roman", serif',"Trebuchet MS":'"Trebuchet MS", sans-serif',Verdana:"Verdana, sans-serif",serif:"serif","sans-serif":"sans-serif",monospace:"monospace",cursive:"cursive",fantasy:"fantasy"},fontFamily:t.fontFamily,buildGoogleFontURL:function(){var e=t.fontFamily.replace(/ /g,"+");return""!=t.fontWeight&&(e=e+":"+t.fontWeight),v.fontFamily='"'+t.fontFamily+'"',"https://fonts.googleapis.com/css?family="+e},buildGoogleFontsImportString:function(){return'@import url("'+this.buildGoogleFontURL()+'");'},insertCSSof:function(e){var o="";if("object"==typeof e)if(e==t.animationsCSS){Object.getOwnPropertyNames(e).forEach(function(t){o+="@keyframes "+t+" {";Object.getOwnPropertyNames(e[t]).forEach(function(i){o+=i+" {",o+=e[t][i]+";",o+="} "}),o+="} "})}else{Object.getOwnPropertyNames(e).forEach(function(t){"string"==typeof e[t]&&(o+=t+": "+e[t]+";")})}return o},buildCSS:function(o){var i="";o&&(i=this.buildGoogleFontsImportString());var r='<style id="scrollio-style">'+i+this.insertCSSof(t.animationsCSS)+"body {"+this.insertCSSof(t.bodyCSS)+"} body #scrollio {font-family: "+v.fontFamily+";font-size: "+t.fontSizeXL+"px;"+this.insertCSSof(t.scrollioContainerCSS)+"} @media (max-width: "+t.breakPointLG_XL+"px) {body #scrollio {font-size: "+t.fontSizeLG+"px;} } @media (max-width: "+t.breakPointMD_LG+"px) {body #scrollio {font-size: "+t.fontSizeMD+"px;} } @media (max-width: "+t.breakPointSM_MD+"px) {body #scrollio {font-size: "+t.fontSizeSM+"px;} } @media (max-width: "+t.breakPointXS_SM+"px) {body #scrollio {font-size: "+t.fontSizeXS+"px;} } body #scrollio .word {"+this.insertCSSof(t.wordCSS)+"} body #scrollio .word .letter {"+this.insertCSSof(t.letterDefaultCSS)+"} body #scrollio .word .letter.active {"+this.insertCSSof(t.letterActiveCSS)+"} body #scrollio .word .letter.current {"+this.insertCSSof(t.letterCurrentCSS)+"} body #scrollio .word .letter.current:after {"+this.insertCSSof(t.cursorCSS)+"} body #scrollio .word.ellipsis {"+this.insertCSSof(t.ellipsisWordCSS)+"} body #scrollio .word.ellipsis .letter {"+this.insertCSSof(t.ellipsisDefaultCSS)+"} body #scrollio .word.ellipsis .letter.active {"+this.insertCSSof(t.ellipsisActiveCSS)+"} body #scrollio .word.ellipsis .letter.current {"+this.insertCSSof(t.ellipsisCurrentCSS)+"} body #scrollio>.overlay {"+this.insertCSSof(t.overlayCSS)+"} body #scrollio>.progress-bar {"+this.insertCSSof(t.progressBarCSS)+"} body #scrollio>.item {"+this.insertCSSof(t.itemDefaultCSS)+"} body #scrollio>.item.active {"+this.insertCSSof(t.itemActiveCSS)+"} body #scrollio>.item>* {"+this.insertCSSof(t.sentenceBeforeInitCSS)+"} body.scrollio-initialized.scrollio-style-loaded #scrollio>.item>* {"+this.insertCSSof(t.sentenceAfterInitCSS)+"} body #scrollio>.item>.scrolltrack {"+this.insertCSSof(t.sentenceCSS)+"} </style>";e("head").append(r)}};t.styleOverrides?void 0!==v.webSafeFonts[t.fontFamily]?(v.fontFamily=v.webSafeFonts[t.fontFamily],v.buildCSS(),r.addClass("scrollio-style-loaded")):(v.buildCSS(!0),e.get(v.buildGoogleFontURL(),function(e){r.addClass("scrollio-style-loaded")}).fail(function(){alert("invalid web safe font or google font")})):r.addClass("scrollio-style-loaded");!function(o){"string"==typeof o&&i.find(o).each(function(){var o=e(this).find(".scrolltrack").eq(0),i=o.text(),r="",n=1e3;r+='<span class="word">';for(var l=0;l<i.length;l++)" "==i[l]?(r+="</span>",r+='<span class="separator"> </span>',r+='<span class="word">'):r+='<span class="letter" style="z-index:'+n+';">'+i[l]+"</span>",t.fontOverlapUnder?n--:n++;r+="</span>";var s=" ";""!=t.textEllipsis&&(s=t.textEllipsis);for(var a="",c=0;c<s.length;c++)a+='<span class="letter" style="z-index:'+n+';">'+s[c]+"</span>",t.fontOverlapUnder?n--:n++;var d=r+'<span class="word ellipsis">'+a+"</span>";o.html(d)})}(".item");t.keepActive&&i.addClass("keep-active"),t.progressBar&&i.append('<div class="progress-bar"></div>'),i.on("init",function(o){r.addClass("scrollio-initialized"),t.onInit(o),i.children(".item:first-child").addClass("active"),e.Event("initForScrollio"),e(document).trigger({type:"initForScrollio"})}),e.Event("init"),i.trigger({type:"init"}),e(document).on("scroll",function(o){var r=e(window).scrollTop(),l=!0,C=r-p;C<0&&(l=!1),p=r,u=C,t.onScroll({index:s,relativeScroll:c,isScrollDown:l,progressBarCoef:S,itemProgressCoef:g}),e.Event("scrollForScrollio"),e(document).trigger({type:"scrollForScrollio",index:s,relativeScroll:c,isScrollDown:l,progressBarCoef:S,itemProgressCoef:g}),Math.abs(C),function(){a=e(window).scrollTop(),window.scrollioAPI.scrollTop=a,a>=d*f&&(a=d*f-1,e.Event("scrollEnd"),i.trigger({type:"scrollEnd"})),s=parseInt(a/f),window.scrollioAPI.index=s,c=a-f*s,window.scrollioAPI.relativeScroll=c;var o=i.children(".item:eq("+s+")"),r=i.children(".item:not(:eq("+s+"))");g=c/f,window.scrollioAPI.itemProgressCoef=g;var l=i.find(".item:eq("+s+") .letter").length,p=parseInt(f/l),u=parseInt(c/p);if(u!=h){if(h=u,o.hasClass("active")||(e.Event("itemChange"),e.Event("lastItem"),e.Event("firstItem"),i.trigger({type:"itemChange",targetIndex:s}),0==s&&i.trigger({type:"firstItem"}),s==d-1&&i.trigger({type:"lastItem"})),o.addClass("active"),e.Event("letterChange"),i.trigger({type:"letterChange"}),o.find(".letter:eq("+u+")").addClass("active current"),t.keepActive){for(var C=0;C<u;C++)o.find(".letter:eq("+C+")").addClass("active").removeClass("current");for(var v=u+1;v<l;v++)o.find(".letter:eq("+v+")").removeClass("active current")}else o.find(".letter:not(:eq("+u+"))").removeClass("active current");r.removeClass("active"),t.progressBar&&(m=(S=a/(d*f))*n,i.children(".progress-bar").css("width",m),window.scrollioAPI.progressBarCoef=S),h=u}u==l-1&&(e.Event("itemEnd"),i.trigger({type:"itemEnd",index:s}))}()}),e(window).on("resize",function(e){n=window.innerWidth,l=window.innerHeight,r.height(d*f+window.innerHeight)}),i.on("itemChange",function(o){var i=o.targetIndex;t.onItemChange(i),C=!0,e.Event("itemChangeForScrollio"),e(document).trigger({type:"itemChangeForScrollio",index:i})}),i.on("firstItem",function(o){t.onFirstItem(o),e.Event("firstItemForScrollio"),e(document).trigger({type:"firstItemForScrollio"})}),i.on("lastItem",function(o){t.onLastItem(o),e.Event("lastItemForScrollio"),e(document).trigger({type:"lastItemForScrollio"})}),i.on("letterChange",function(o){t.onLetterChange(o),e.Event("letterChangeForScrollio"),e(document).trigger({type:"letterChangeForScrollio"})}),i.on("itemEnd",function(o){if(C){var i=o.index;t.onItemEnd(i),C=!1,e.Event("itemEndForScrollio"),e(document).trigger({type:"itemEndForScrollio",index:i})}}),i.on("scrollEnd",function(o){t.onScrollEnd(o),e.Event("scrollEndForScrollio"),e(document).trigger({type:"scrollEndForScrollio"})})}}}(jQuery);