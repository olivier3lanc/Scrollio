!function(e){api={},e.fn.scrollio=function(t){var i={id:"scrollio",scrollRange:2e3,keepActive:!0,textEllipsis:"...",fontFamily:"Ubuntu",fontWeight:"Bold",fontOverlapUnder:!0,progressBar:!0,overlay:!0,fontSizeXL:84,fontSizeLG:56,fontSizeMD:36,fontSizeSM:24,fontSizeXS:18,breakPointLG_XL:1200,breakPointMD_LG:992,breakPointSM_MD:768,breakPointXS_SM:575,styleOverrides:!0,animationsCSS:{cursor:{"0%":"opacity: 0","100%":"opacity: 1"}},sentenceBeforeInitCSS:{transition:"transform 1s",transform:"scale(0)"},sentenceAfterInitCSS:{transform:"scale(1)"},bodyCSS:{"background-color":"#1b4b7d",color:"#fff","-webkit-font-smoothing":"antialiased"},scrollioContainerCSS:{},itemDefaultCSS:{padding:"0em 10vw"},itemActiveCSS:{},sentenceCSS:{"line-height":"1.3em"},wordCSS:{},letterDefaultCSS:{"margin-left":"-0.1em",opacity:"0.5",transition:"all 200ms","text-shadow":"0px 0px 0px rgba(0,0,0,.5)",transform:"scale(0.5)"},letterActiveCSS:{color:"white",opacity:"1","text-shadow":"5px 1px 8px rgba(0,0,0,.5)",transform:"scale(1)"},letterCurrentCSS:{},cursorCSS:{top:"0px",right:"0px",width:"2px",height:"100%","background-color":"white","animation-name":"cursor","animation-duration":"600ms","animation-iteration-count":"infinite","animation-direction":"alternate"},ellipsisWordCSS:{},ellipsisDefaultCSS:{},ellipsisActiveCSS:{},ellipsisCurrentCSS:{},progressBarCSS:{"background-color":"white"},overlayCSS:{opacity:"1",background:"radial-gradient(ellipse at top, transparent, #07131f)"},onInit:function(e){},onItemChange:function(e){},onLetterChange:function(e){},onScroll:function(e){},onItemEnd:function(e){},onFirstItem:function(e){},onLastItem:function(e){},onScrollEnd:function(e){}};if("string"==typeof t){var o="";if(0==t.indexOf("get:"))return"defaults"==(o=t.replace("get:",""))?i:"current"==o?api.current:void 0!==i[o]?i[o]:"index"==o?api.index:"relativeScroll"==o?api.relativeScroll:"amountOfItems"==o?api.amountOfItems:"progressBarCoef"==o?api.progressBarCoef:"itemProgressCoef"==o?api.itemProgressCoef:"api"==o?api:(console.log('not a valid "get:" request'),!1);if(0==t.indexOf("do:")){if("goToNextItem"==(o=t.replace("do:",""))){if(api.index<api.amountOfItems-1){r=(api.index+1)*i.scrollRange;e("body,html").animate({scrollTop:r},i.scrollRange)}else console.log("unable to go to next item, this is the last item");return}if("goToPreviousItem"==o){if(api.index>0){r=(api.index-1)*i.scrollRange;e("body,html").animate({scrollTop:r},i.scrollRange)}else console.log("unable to go to previous item, this is the first item");return}if("goToFirstItem"==o)return void e("body,html").animate({scrollTop:0},api.scrollTop);if("goToLastItem"==o){r=(api.amountOfItems-1)*i.scrollRange;return void e("body,html").animate({scrollTop:r},r)}if("goToItemStart"==o){r=api.index*i.scrollRange;return void e("body,html").animate({scrollTop:r},api.relativeScroll)}if("goToItemEnd"==o){var r=api.index*i.scrollRange+i.scrollRange-20;return void e("body,html").animate({scrollTop:r},i.scrollRange)}return console.log('not a valid "do:" request'),!1}return console.log("not a valid API request"),!1}var n=e("#"+i.id),s=e("body"),l=window.innerWidth,a=window.innerHeight;if(s.hasClass("scrollio-initialized"))console.log("Scrollio already initialized");else{if(api.current=i,"object"==typeof t){Object.getOwnPropertyNames(t).forEach(function(e){i.hasOwnProperty(e)&&(i[e]=t[e],api.current[e]=t[e])})}i.overlay&&n.append('<div class="overlay"></div>');var c=0;api.index=c;var d=0;api.scrollTop=d;var f=0;api.relativeScroll=f;var S=n.children(".item").length;api.amountOfItems=S;var p=i.scrollRange,m=d/(S*p);api.progressBarCoef=m;var g=m*l,u=0;api.itemProgressCoef=u;var C=0,h=0;s.height(S*p+a);var v=-1,y=!0,b=(e('head meta[name="description"]').attr("content"),document.title,{webSafeFonts:{Arial:"Arial, Helvetica, sans-serif",Helvetica:"Helvetica, Arial, sans-serif","Courier New":'"Courier New", monospace',Georgia:"Georgia, serif","Times New Roman":'"Times New Roman", serif',"Trebuchet MS":'"Trebuchet MS", sans-serif',Verdana:"Verdana, sans-serif",serif:"serif","sans-serif":"sans-serif",monospace:"monospace",cursive:"cursive",fantasy:"fantasy"},fontFamily:i.fontFamily,buildGoogleFontURL:function(){var e=i.fontFamily.replace(/ /g,"+");return""!=i.fontWeight&&(e=e+":"+i.fontWeight),b.fontFamily='"'+i.fontFamily+'"',"https://fonts.googleapis.com/css?family="+e},buildGoogleFontsImportString:function(){return'@import url("'+this.buildGoogleFontURL()+'");'},insertCSSof:function(e){var t="";if("object"==typeof e)if(e==i.animationsCSS){Object.getOwnPropertyNames(e).forEach(function(i){t+="@keyframes "+i+" {";Object.getOwnPropertyNames(e[i]).forEach(function(o){t+=o+" {",t+=e[i][o]+";",t+="} "}),t+="} "})}else{Object.getOwnPropertyNames(e).forEach(function(i){"string"==typeof e[i]&&(t+=i+": "+e[i]+";")})}return t},buildCSS:function(t){var o="";t&&(o=this.buildGoogleFontsImportString());var r='<style id="scrollio-style">'+o+this.insertCSSof(i.animationsCSS)+"body {"+this.insertCSSof(i.bodyCSS)+"} body #scrollio {font-family: "+b.fontFamily+";font-size: "+i.fontSizeXL+"px;"+this.insertCSSof(i.scrollioContainerCSS)+"} @media (max-width: "+i.breakPointLG_XL+"px) {body #scrollio {font-size: "+i.fontSizeLG+"px;} } @media (max-width: "+i.breakPointMD_LG+"px) {body #scrollio {font-size: "+i.fontSizeMD+"px;} } @media (max-width: "+i.breakPointSM_MD+"px) {body #scrollio {font-size: "+i.fontSizeSM+"px;} } @media (max-width: "+i.breakPointXS_SM+"px) {body #scrollio {font-size: "+i.fontSizeXS+"px;} } body #scrollio .word {"+this.insertCSSof(i.wordCSS)+"} body #scrollio .word .letter {"+this.insertCSSof(i.letterDefaultCSS)+"} body #scrollio .word .letter.active {"+this.insertCSSof(i.letterActiveCSS)+"} body #scrollio .word .letter.current {"+this.insertCSSof(i.letterCurrentCSS)+"} body #scrollio .word .letter.current:after {"+this.insertCSSof(i.cursorCSS)+"} body #scrollio .word.ellipsis {"+this.insertCSSof(i.ellipsisWordCSS)+"} body #scrollio .word.ellipsis .letter {"+this.insertCSSof(i.ellipsisDefaultCSS)+"} body #scrollio .word.ellipsis .letter.active {"+this.insertCSSof(i.ellipsisActiveCSS)+"} body #scrollio .word.ellipsis .letter.current {"+this.insertCSSof(i.ellipsisCurrentCSS)+"} body #scrollio>.overlay {"+this.insertCSSof(i.overlayCSS)+"} body #scrollio>.progress-bar {"+this.insertCSSof(i.progressBarCSS)+"} body #scrollio>.item {"+this.insertCSSof(i.itemDefaultCSS)+"} body #scrollio>.item.active {"+this.insertCSSof(i.itemActiveCSS)+"} body #scrollio>.item>* {"+this.insertCSSof(i.sentenceBeforeInitCSS)+"} body.scrollio-initialized.scrollio-style-loaded #scrollio>.item>* {"+this.insertCSSof(i.sentenceAfterInitCSS)+"} body #scrollio>.item>.scrolltrack {"+this.insertCSSof(i.sentenceCSS)+"} </style>";e("head").append(r)}});i.styleOverrides?void 0!==b.webSafeFonts[i.fontFamily]?(b.fontFamily=b.webSafeFonts[i.fontFamily],b.buildCSS(),s.addClass("scrollio-style-loaded")):(b.buildCSS(!0),e.get(b.buildGoogleFontURL(),function(e){s.addClass("scrollio-style-loaded")}).fail(function(){alert("invalid web safe font or google font")})):s.addClass("scrollio-style-loaded");!function(t){"string"==typeof t&&n.find(t).each(function(){var t=e(this).find(".scrolltrack").eq(0),o=t.text(),r="",n=1e3;for(r+='<span class="word">',a=0;a<o.length;a++)" "==o[a]?(r+="</span>",r+='<span class="separator"> </span>',r+='<span class="word">'):r+='<span class="letter" style="z-index:'+n+';">'+o[a]+"</span>",i.fontOverlapUnder?n--:n++;r+="</span>";var s=" ";""!=i.textEllipsis&&(s=i.textEllipsis);for(var l="",a=0;a<s.length;a++)l+='<span class="letter" style="z-index:'+n+';">'+s[a]+"</span>",i.fontOverlapUnder?n--:n++;var c=r+'<span class="word ellipsis">'+l+"</span>";t.html(c)})}(".item");i.keepActive&&n.addClass("keep-active"),i.progressBar&&n.append('<div class="progress-bar"></div>'),n.on("init",function(e){s.addClass("scrollio-initialized"),i.onInit(e),n.children(".item:first-child").addClass("active")});e.Event("init");n.trigger({type:"init"}),e(document).on("scroll",function(t){var o=e(window).scrollTop(),r=!0,s=o-C;s<0&&(r=!1),C=o,h=s,i.onScroll({index:c,relativeScroll:f,isScrollDown:r,progressBarCoef:m,itemProgressCoef:u}),Math.abs(s),function(){d=e(window).scrollTop(),api.scrollTop=d,d>=S*p&&(d=S*p-1,e.Event("scrollEnd"),n.trigger({type:"scrollEnd"}));c=parseInt(d/p),api.index=c,f=d-p*c,api.relativeScroll=f;var t=n.children(".item:eq("+c+")"),o=n.children(".item:not(:eq("+c+"))");u=f/p,api.itemProgressCoef=u;var r=n.find(".item:eq("+c+") .letter").length,s=parseInt(p/r),a=parseInt(f/s);if(a!=v){if(v=a,t.hasClass("active")||(e.Event("itemChange"),e.Event("lastItem"),e.Event("firstItem"),n.trigger({type:"itemChange",targetIndex:c}),0==c&&n.trigger({type:"firstItem"}),c==S-1&&n.trigger({type:"lastItem"})),t.addClass("active"),e.Event("letterChange"),n.trigger({type:"letterChange"}),t.find(".letter:eq("+a+")").addClass("active current"),i.keepActive){for(C=0;C<a;C++)t.find(".letter:eq("+C+")").addClass("active").removeClass("current");for(var C=a+1;C<r;C++)t.find(".letter:eq("+C+")").removeClass("active current")}else t.find(".letter:not(:eq("+a+"))").removeClass("active current");o.removeClass("active"),i.progressBar&&(g=(m=d/(S*p))*l,n.children(".progress-bar").css("width",g),api.progressBarCoef=m),v=a}a==r-1&&(e.Event("itemEnd"),n.trigger({type:"itemEnd",index:c}))}()}),e(window).on("resize",function(e){l=window.innerWidth,a=window.innerHeight,s.height(S*p+window.innerHeight)}),n.on("itemChange",function(e){var t=e.targetIndex;i.onItemChange(t),y=!0}),n.on("firstItem",function(e){i.onFirstItem(e)}),n.on("lastItem",function(e){i.onLastItem(e)}),n.on("letterChange",function(e){i.onLetterChange(e)}),n.on("itemEnd",function(e){if(y){var t=e.index;i.onItemEnd(t);n.children(".item").eq(t);y=!1}}),n.on("scrollEnd",function(e){i.onScrollEnd(e)})}}}(jQuery);